{"version":3,"sources":["lib/api.js","lib/auth.js","lib/notification.js","components/movies/MovieDetails.js","components/movies/MovieForm.js","components/movies/MovieNew.js","components/movies/MovieEdit.js","components/movies/MoviesCard.js","components/common/Home.js","components/common/NavbarContent.js","components/common/DesktopNav.js","components/common/MobileNav.js","components/common/Navbar.js","components/auth/Register.js","components/auth/Login.js","components/auth/Profile.js","components/common/Footer.js","App.js","index.js"],"names":["getAuthHeaders","token","localStorage","getItem","headers","Authorization","getSingleMovie","movieId","axios","get","createMovie","formData","post","updateMovie","id","put","deleteMovie","delete","registerUser","loginUser","createNewComment","addToWatchlist","console","log","removeFromWatchlist","getUserProfile","setToken","setItem","getPayLoad","parts","split","length","JSON","parse","atob","isAuthenticated","payload","Math","floor","Date","now","exp","popupStyles","background","text","popupNotification","message","notify","show","MovieDetails","state","movie","formdata","rating","liked_movies","currentUserId","liked_by","heartColor","liked","commentErrors","handleChange","event","target","name","value","setState","handleSubmit","a","preventDefault","props","history","push","response","handleDelete","match","params","getAverageRating","ratings","comments","map","comment","reduce","acc","curr","toFixed","handleWatchlist","this","data","profile","userId","likedByArrayIds","user","isLikedByCurrentUser","includes","className","src","image","key","alt","title","release","age_rating","genre","join","duration","description","director","starring","href","trailer","onClick","color","to","onSubmit","placeholder","onChange","type","username","moment","created_at","format","React","Component","MovieForm","handleMultiSelect","formErrors","ageRating","error","multiple","size","MovieNew","selectedIds","Array","from","selectedOptions","Number","MovieEdit","o","likedBy","genres","MoviesCard","Home","movies","comedies","filter","thrillers","animation","NavBarContent","removeItem","handleLogOut","DesktopNav","width","height","MobileNav","menuOpen","isOpen","onStateChange","handleStateChange","closeMenu","withRouter","useMediaQuery","query","Register","email","firstName","lastName","profileImage","password","passwordConfirmation","registerErrors","first_name","last_name","profile_image","password_confirmation","Login","loginErrors","detail","Profile","created_movies","watchlist","createdMovies","Footer","role","aria-label","App","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.849b6512.chunk.js","sourcesContent":["import axios from 'axios'\n\n// MOVIES\n\n// helper function as I need to repeatedly get token and headers etc\nconst getAuthHeaders = () => {\n  const token = localStorage.getItem('token')\n  const headers = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }\n  return headers\n}\n\n// GET ALL MOVIES\nexport const getAllMovies = () =>  {\n  return axios.get('/api/movies/')\n}\n\n// GET ONE MOVIE\nexport const getSingleMovie = movieId => {\n  return axios.get(`/api/movies/${movieId}/`)\n}\n\n// CREATE A MOVIE\nexport const createMovie = formData => {\n  // console.log(formData, headers)\n  return axios.post('/api/movies/', formData, getAuthHeaders())\n}\n\n// UPDATE A MOVIE\nexport const updateMovie = (id, formData) => {\n  return axios.put(`/api/movies/${id}/`, formData, getAuthHeaders())\n}\n\n// DELETE A MOVIE\nexport const deleteMovie = id => {\n  return axios.delete(`/api/movies/${id}/`, getAuthHeaders())\n}\n\n// AUTH\nexport const registerUser = formData => {\n  return axios.post('/api/auth/register/', formData)\n}\n\nexport const loginUser = formData => {\n  return axios.post('/api/auth/login/', formData)\n}\n\n// Create New Comment\nexport const createNewComment = formData => {\n  const token = localStorage.getItem('token')\n  const headers = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  }\n  return axios.post('/api/comments/', formData, headers)\n}\n\n// Add Movie to Watchlist\nexport const addToWatchlist = (movieId, formData) => {\n  console.log(`Adding movie ${movieId} to my Watchlist`)\n  return axios.post(`/api/movies/${movieId}/likes/`, formData, getAuthHeaders())\n}\n\n// remove Movie from Watchlist\nexport const removeFromWatchlist = (movieId) => {\n  console.log(`Removing movie ${movieId} from my Watchlist`)\n  return axios.delete(`/api/movies/${movieId}/likes/`, getAuthHeaders())\n}\n\n// User Profile\nexport function getUserProfile(){\n  return axios.get('/api/auth/profile/', getAuthHeaders())\n}","export const setToken = token => {\n  localStorage.setItem('token', token)\n}\n\nexport const logout = () => {\n  return localStorage.removeItem('token')\n}\n\nexport const getToken = ()  => {\n  return localStorage.getItem('token')\n}\n\nexport const getPayLoad = () => {\n  // console.log('getting payload')\n  const token = getToken()\n  if (!token) return false\n\n  const parts = token.split('.')\n  if (parts.length < 3) return false\n  // console.log(parts)\n\n  return JSON.parse(atob(parts[1]))\n\n}\n\nexport const isAuthenticated = () => {\n  const payload = getPayLoad()\n\n  if (!payload) return false\n  const now = Math.floor(Date.now() / 1000)\n  // console.log(now, payload.exp)\n  return now < payload.exp\n}\n","import { notify } from 'react-notify-toast'\n\nconst popupStyles  = { background: '#009cc4', text: '#FFFFFF' }\n\nexport const popupNotification = message => {\n  notify.show(message, 'custom', 3000, popupStyles)\n}","import React from 'react'\nimport moment from 'moment'\nimport { Link } from 'react-router-dom'\nimport { getSingleMovie, deleteMovie, getUserProfile } from '../../lib/api'\nimport { createNewComment, addToWatchlist, removeFromWatchlist } from '../../lib/api'\nimport { isAuthenticated } from '../../lib/auth'\nimport { popupNotification } from '../../lib/notification'\n\nimport { FaHeart } from 'react-icons/fa'\n\nclass MovieDetails extends React.Component {\n  state = {\n    movie: null,\n    formdata: {\n      text: '',\n      rating: ''\n    },\n    liked_movies: '',\n    currentUserId: '',\n    liked_by: '', \n    heartColor: 'grey',\n    liked: false,\n    commentErrors: {}\n  }\n  \n\n  \n  async componentDidMount() {    \n    // request single movie by id\n    const movieId = this.props.match.params.id\n    // console.log(this.props, movieId)\n    const response = await getSingleMovie(movieId)\n    // console.log(response.data)\n    this.setState({\n      movie: response.data\n    })  \n\n    // Get user profile details and update state\n    try {\n      const profile = await getUserProfile()\n      // console.log(profile.data.id)\n      const userId = profile.data.id\n      // console.log(userId)\n      this.setState({ \n        currentUserId: userId\n      })\n    } catch (err) {\n      // console.error(err)\n    }\n\n    const likedByArrayIds = this.state.movie.liked_by.map(user => user.id)\n    const isLikedByCurrentUser = likedByArrayIds.includes(this.state.currentUserId)\n\n    const heartColor = isLikedByCurrentUser ? 'crimson' : 'grey'\n\n    this.setState({\n      heartColor,\n      liked: isLikedByCurrentUser\n    })   \n  }\n\n  // function that handles the comments formdata, \n  handleChange = event => {\n    // console.log(event.target)\n    const formData = {\n      ...this.state.formData,\n      [event.target.name]: event.target.value\n    } \n    this.setState({ formData })\n  }\n\n  // A function to handle submit comment\n  handleSubmit = async event => {\n    event.preventDefault()    \n    try {\n      this.state.formData.movie = this.state.movie.id\n      await createNewComment(this.state.formData)   \n      popupNotification('Thanks for your comment and rating!')\n      // const movieId = this.state.movie.id\n      // this.props.history.push(`/movies/${movieId}`)\n      this.props.history.push('/')\n    } catch (err) {\n      console.log(err.response)\n      popupNotification('Please add a review and rating 1-5')\n    }\n  }\n\n  handleDelete = async () => {\n    const movieId = this.props.match.params.id\n    // console.log(movieId)\n    // const response = deleteMovie(movieId)\n    await deleteMovie(movieId)\n    // console.log(response)\n    popupNotification('Movie has been deleted!')\n    this.props.history.push('/')\n  }\n\n  getAverageRating = () => {\n    const sum = (acc, curr) => acc + curr\n    const ratings = this.state.movie.comments.map(comment => comment.rating)\n    if (ratings.length > 0) {\n      return ((ratings.reduce(sum) * 20) / ratings.length).toFixed(0)\n    } else {\n      return (50).toFixed(0)\n    }\n  }\n\n  // handle add to watchlist button\n  handleWatchlist = async () => {\n    const movieId  = this.props.match.params.id\n    // await addToWatchlist(movieId)\n\n    // need to set state of heart icon ideally toggle on and off\n    // so onclick toggle the color whilst also adding / removing from liked_movies\n\n    const { liked } = this.state\n    if (!liked) {\n      try {\n        await addToWatchlist(movieId)\n        this.setState({\n          heartColor: 'crimson',\n          liked: true\n        })\n        popupNotification('Added to Watchlist!')\n      } catch (err) {\n        // console.log(err)\n      }\n    } else {\n      try {\n        await removeFromWatchlist(movieId)\n        this.setState({\n          heartColor: 'grey',\n          liked: false\n        })\n        popupNotification('Removed from Watchlist!')\n      } catch (err) {\n        // console.log(err)\n      }\n    }\n  }\n  \n  render() {\n    const { movie, text, rating, heartColor } = this.state  \n    if (!movie) return null\n    return (\n      <div className=\"show-page\">\n        <div className=\"details\">\n          <div className=\"poster-view\">\n            <img src={movie.image} key={movie.image} alt={movie.title} />\n          </div>\n          <div className=\"main-right\">\n            <div className=\"right-box\">\n              <div className=\"movie-title\">\n                <h1>{movie.title}&nbsp;</h1>\n                <h2>({movie.release})</h2>       \n              </div>\n              <div className=\"movie-info\">\n                <h3>{movie.age_rating}&nbsp;</h3>\n                <div className=\"genres\">\n                  <h4>{movie.genre.map(genre => genre.name).join(', ')}</h4>\n                </div>\n                <div className=\"duration\">\n                  <h4>{movie.duration}</h4>\n                </div>        \n              </div>    \n              <div className=\"rating-container\">\n                <div className=\"average-rating\">\n                  <h4>User Rating</h4>\n                  <h5>{this.getAverageRating()}%</h5>\n                </div>       \n              </div>\n              <div className=\"overview\">\n                <h1>Overview</h1>\n                <div className=\"description\">\n                  <p>{movie.description}</p>\n                </div>\n              </div>\n              <div className=\"cast\">\n                <div className=\"director\">\n                  <h5>Director</h5>\n                  <h4>{movie.director}</h4>                \n                </div>            \n                <div className=\"starring\">\n                  <h5>Starring</h5>\n                  <h4>{movie.starring}</h4>\n                </div>\n              </div>   \n              <div className=\"trailer-parent\">\n                <div className=\"trailer\">      \n                  <button className=\"button\"><a href={movie.trailer}>Play Trailer</a></button>\n                </div>  \n                <div className=\"like\">\n                  \n                  { isAuthenticated()  && <FaHeart className=\"heart\" onClick={this.handleWatchlist}  color={heartColor} /> }\n              \n                  {/* Add to Watchlist */}\n                </div>\n                { isAuthenticated() && <div className=\"edit-buttons\">\n                  <Link to={`/movies/${movie.id}/edit`} id=\"edit\" className=\"button\">Edit</Link>\n                  <button onClick={this.handleDelete} id=\"delete\" className=\"button\">Delete</button>\n                </div> }              \n              </div> \n            </div>\n          </div>\n        </div>  \n        {/* Add review section START */}\n        <div className=\"next-page\">\n          { isAuthenticated() && <div className=\"comments-left\">\n            <form onSubmit={this.handleSubmit} className=\"review-column is-two-thirds is-offset-one-quarter box\">\n              <div className=\"field\">\n                <label className=\"label\">Add A Review</label>\n                <div className=\"control\">\n                  <textarea\n                    className=\"textarea\"\n                    placeholder=\"comments\"\n                    name=\"text\"\n                    value={text}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Rating</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    placeholder=\"Choose 1-5\"\n                    name=\"rating\" \n                    value={rating}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <button type=\"submit\" className=\"button is-fullwidth\">Submit</button>\n              </div>\n            </form>\n          </div> }\n          {/* Add review section END */}\n          { !isAuthenticated() && <div className=\"login-to-review\">     \n            <h1>Login to rate and review movies</h1>  \n            <Link to={'/login'} className=\"button\">Login</Link>        \n          </div>\n          }  \n          <div className=\"comments-right\">\n            <div className=\"comments-box\">\n              <div className=\"comments-title\">\n                <h1>Reviews</h1>\n              </div>\n              <hr />\n              <div className=\"user-reviews-parent\">\n                <div className=\"user-reviews\"> \n                  {movie.comments.map((comment, id) => (\n                    <>\n                      <div key={id} className=\"comment-text\">\n                        <h2>A review by {comment.user.username}</h2>\n                        <h3>Written on: {moment(comment.created_at).format('Do MMM YY')}</h3>\n                        <div className=\"comment-rating\">\n                          <p><span>{comment.rating}.0</span></p>\n                        </div>\n                        <p>{comment.text}</p>\n                      </div>                    \n                      <div className=\"comment-rating\">\n                      </div>\n                      <hr />\n                    </>\n                  ))}\n                </div>              \n              </div> \n            </div>\n          </div>\n        </div> \n      </div>    \n    )\n  }\n}\n\nexport default MovieDetails","import React from 'react'\n\nconst MovieForm = props => {\n  const { handleChange, handleSubmit, handleMultiSelect, formErrors } = props\n  const { title, image, description, starring, release, director, duration, age_rating: ageRating, trailer } = props.formData\n  console.log(props)\n  return (\n    <div className=\"add-movie\">\n      <form onSubmit={handleSubmit} className=\"column is-half is-offset-one-quarter box\">\n        <div className=\"field\">\n          <label className=\"label\">Add / Edit A Movie</label>\n          <div className=\"control\">\n            <input\n              className={`input ${formErrors.title ? 'is-danger' : ''}`}\n              placeholder=\"Title (Required)\" \n              name=\"title\"\n              value={title}\n              onChange={handleChange}\n              error={formErrors.title}\n            />\n          </div>\n          { formErrors.title && <p className=\"help is-danger\">{formErrors.title}</p> }\n        </div>\n        { <div className={`select is-multiple ${formErrors.genre ? 'is-danger' : ''}`}\n          error={formErrors.genre}>\n          <label className=\"label\">Select 1 or more genres</label>\n          { formErrors.genre && <p className=\"help is-danger\">{formErrors.genre}</p> }\n          <select multiple={true} className=\"multiple\" size=\"14\" onChange={handleMultiSelect}>           \n            <option name=\"1\"value={1} className=\"option\">Comedy</option>\n            <option name=\"2\"value={2} className=\"option\">Action</option>\n            <option name=\"3\"value={3} className=\"option\">Thriller</option>\n            <option name=\"4\"value={4} className=\"option\">Horror</option>\n            <option name=\"5\"value={5} className=\"option\">Drama</option>\n            <option name=\"6\"value={6} className=\"option\">Documentary</option>\n            <option name=\"7\"value={7} className=\"option\">Crime</option>\n            <option name=\"8\"value={8} className=\"option\">Animation</option>\n            <option name=\"9\"value={9} className=\"option\">Family</option>\n            <option name=\"10\"value={10} className=\"option\">Fantasy</option>\n            <option name=\"11\"value={11} className=\"option\">Romance</option>\n            <option name=\"12\"value={12} className=\"option\">Science Fiction</option>\n            <option name=\"13\"value={13} className=\"option\">War</option>\n            <option name=\"14\"value={14} className=\"option\">Western</option>\n          </select>       \n        </div> }\n        <div className=\"field\">\n          <div className=\"control\">\n            <input\n              className={`input ${formErrors.image ? 'is-danger' : ''}`}\n              type=\"text\"\n              placeholder=\"Image URL (required)\"\n              name=\"image\"\n              value={image}\n              onChange={handleChange}\n              error={formErrors.image}\n            />\n          </div>\n          { formErrors.image && <p className=\"help is-danger\">{formErrors.image}</p> }\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <textarea\n              className={`input ${formErrors.description ? 'is-danger' : ''}`}\n              type=\"text\"\n              placeholder=\"Description (required)\"\n              name=\"description\"\n              value={description}\n              onChange={handleChange}\n              error={formErrors.description}\n            />\n          </div>\n          { formErrors.description && <p className=\"help is-danger\">{formErrors.description}</p> }\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <input\n              className={`input ${formErrors.starring ? 'is-danger' : ''}`}\n              type=\"text\"\n              placeholder=\"Starring (seperated by commas - required)\"\n              name=\"starring\"\n              value={starring}\n              onChange={handleChange}\n              error={formErrors.starring}\n            />\n          </div>\n          { formErrors.starring && <p className=\"help is-danger\">{formErrors.starring}</p> }\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <input\n              className={`input ${formErrors.release ? 'is-danger' : ''}`}\n              placeholder=\"Release Year (required)\"\n              name=\"release\"\n              value={release}\n              onChange={handleChange}\n              error={formErrors.release}\n            />\n          </div>\n          { formErrors.release && <p className=\"help is-danger\">{formErrors.starring}</p> }\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <input\n              className={`input ${formErrors.director ? 'is-danger' : ''}`}\n              placeholder=\"Director(required)\"\n              name=\"director\"\n              value={director}\n              onChange={handleChange}\n              error={formErrors.director}\n            />\n          </div>\n          { formErrors.director && <p className=\"help is-danger\">{formErrors.director}</p> }\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <input\n              className={`input ${formErrors.duration ? 'is-danger' : ''}`}\n              placeholder=\"Duration (eg: 1h 45m)\"\n              name=\"duration\"\n              value={duration}\n              onChange={handleChange}\n              error={formErrors.duration}\n            />\n          </div>\n          { formErrors.duration && <p className=\"help is-danger\">{formErrors.duration}</p> }\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <input\n              className={`input ${formErrors.age_rating ? 'is-danger' : ''}`}\n              placeholder=\"Age Rating (eg. 12A or 18)\"\n              name=\"age_rating\"\n              value={ageRating}\n              onChange={handleChange}\n              error={formErrors.age_rating}\n            />\n          </div>\n          { formErrors.age_rating && <p className=\"help is-danger\">{formErrors.age_rating}</p> }\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <input\n              className={`input ${formErrors.trailer ? 'is-danger' : ''}`}\n              placeholder=\"Trailer URL(required)\"\n              name=\"trailer\"\n              value={trailer}\n              onChange={handleChange}\n              error={formErrors.trailer}\n            />\n          </div>\n          { formErrors.trailer && <p className=\"help is-danger\">{formErrors.trailer}</p> }\n        </div>\n        <div className=\"field\">\n          <button type=\"submit\" className=\"button is-fullwidth\">Submit</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default MovieForm","import React from 'react'\nimport { createMovie } from '../../lib/api'\nimport MovieForm from './MovieForm'\n\nclass MovieNew extends React.Component {\n  state = {\n    formData: {\n      title: '',\n      genre: [],\n      image: '',\n      description: '',\n      starring: '',\n      release: '',\n      director: '',\n      duration: '',\n      age_rating: '',\n      trailer: '',\n      liked_by: []\n    },\n    formErrors: {}\n  }\n\n  handleMultiSelect = event => {\n    // push the selected values into that array\n    const selectedIds =  Array.from(event.target.selectedOptions).map((genre) => Number(genre.value))\n    console.log(selectedIds)\n\n    // now open up formdata and set genres to this array's values\n    const formData = {\n      ...this.state.formData,\n      genre: selectedIds\n    }\n\n    // and set state of formdata\n    this.setState({ formData })\n    // console.log(formData)   \n  }\n\n  handleChange = event => {\n    // console.log(event.target)\n    const formData = {\n      ...this.state.formData,\n      [event.target.name]: event.target.value\n    } \n    // console.log(formData)\n    this.setState({ formData })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault() \n    // post to /movies via the api axios request\n    try {\n      const response = await createMovie(this.state.formData)\n      // redirect user to the movie they created\n      this.props.history.push(`/movies/${response.data.id}`)\n    } catch (err) {\n      console.log(err.response)\n      this.setState({ formErrors: err.response.data })\n      return\n    }\n  }\n\n  render()  {\n    console.log(this.state)\n    return (\n      <section className=\"add-movie-section\">\n        <div className=\"container\">\n          <MovieForm \n            handleChange={this.handleChange}\n            handleSubmit={this.handleSubmit}\n            handleMultiSelect={this.handleMultiSelect}\n            formData={this.state.formData}\n            formErrors={this.state.formErrors}/>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default MovieNew","import React from 'react'\nimport { getSingleMovie, updateMovie } from '../../lib/api'\nimport MovieForm from './MovieForm'\n\nclass MovieEdit extends React.Component {\n  state = {\n    formData: {\n      title: '',\n      image: '',\n      genre: [],\n      description: '',\n      starring: '',\n      release: '',\n      director: '',\n      duration: '',\n      age_rating: '',\n      trailer: '',\n      liked_by: []\n    },\n    formErrors: {}\n  }\n\n  // In order to pre-populate the edit form with current data, \n  // I need to make an api request to movie ID \n  // then update the state with that info\n  // This is done in componentDidMount\n  async componentDidMount() {\n\n    const movieId = this.props.match.params.id\n    const response = await getSingleMovie(movieId)\n    // console.log(response.data)\n    \n    this.setState({\n      formData: response.data\n    })\n    // console.log(response.data.genre)\n    const genres = response.data.genre.map(genre => genre.id)\n    console.log(genres)\n    this.state.formData.genre = genres\n    \n  }\n  handleMultiSelect = event => {\n    // push the selected values into that array\n    const selectedIds =  Array.from(event.target.selectedOptions).map((o) => Number(o.value))\n    console.log(selectedIds)\n\n    // now open up formdata and set genres to this array's values\n    const formData = {\n      ...this.state.formData,\n      genre: selectedIds\n    }\n    // and set state of formdata\n    this.setState({ formData })\n    console.log(formData)\n    \n  }\n\n  handleChange = event => {\n    \n    console.log(event.target)\n    const formData = {\n      ...this.state.formData,\n      [event.target.name]: event.target.value\n    } \n    // console.log(formData)\n    this.setState({ formData })\n    this.setState({\n      formErrors: {}\n    })\n  }\n  \n  handleSubmit = async event => {\n    event.preventDefault()  \n\n    \n    try {\n      const formData = {\n        ...this.state.formData,\n        [event.target.name]: event.target.value\n      } \n      // console.log(formData)\n      this.setState({ formData })\n      const userId = this.state.formData.user\n      // console.log(userId)\n      this.state.formData.user = userId.id\n\n      const likedBy = this.state.formData\n      // console.log(likedBy)\n      this.state.formData.liked_by = likedBy.value\n\n      const movieId = this.props.match.params.id\n      // post to /movies via the api axios request\n      \n      await updateMovie(movieId, this.state.formData)\n\n      // redirect user to the new edited movie detail page\n      this.props.history.push(`/movies/${movieId}`)\n    } catch (err) {\n      // console.log(err.response.data)\n      this.setState({ formErrors: err.response.data })\n      return\n    }\n\n  }\n\n  render()  {\n    return (\n      <section className=\"add-movie-section\">\n        <div className=\"container\">\n          <MovieForm \n            handleChange={this.handleChange}\n            handleSubmit={this.handleSubmit}\n            handleMultiSelect={this.handleMultiSelect}\n            formData={this.state.formData}\n            formErrors={this.state.formErrors} />\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default MovieEdit","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst MoviesCard = ({ title, image, id }) => {\n\n  return (\n    <div id={id} className=\"main\">\n      <Link to={`/movies/${id}`} >\n        <div className=\"row-posters\">\n          <div className=\"row-poster\">\n            <img src={image} alt={title} />\n          </div>\n        </div>  \n      </Link>\n    </div>\n  )\n}\n\nexport default MoviesCard","import React from 'react'\nimport { getAllMovies } from '../../lib/api'\n\nimport MoviesCard from '../movies/MoviesCard'\n\nclass Home extends React.Component {\n\n  state = {\n    movies: []\n  }\n\n  async componentDidMount() {\n    const response = await getAllMovies()\n    // console.log(response)\n    this.setState({\n      movies: response.data\n    })\n    console.log('movies array >>>>', response.data)\n  }\n\n\n  render() {\n    const movies = this.state.movies\n    const comedies = movies.filter(movie => movie.genre.includes(1))\n    const thrillers = movies.filter(movie => movie.genre.includes(3))\n    const animation = movies.filter(movie => movie.genre.includes(8))\n\n    if ( !this.state.movies ) return null\n\n    return (\n      <div className=\"home-main\">\n        <div className=\"hero\">\n          <div className=\"title\">\n            <img className=\"featured\" \n              src=\"https://free4kwallpapers.com/uploads/originals/2020/05/01/interstellar-wallpaper.jpg\" alt=\"featured-movie\"  />\n            <a href=\"https://www.youtube.com/watch?v=zSWdZVtXT7E&t=10s\"><h2>Play Trailer</h2></a>\n          </div>\n          <div className=\"home-titles\">\n            <h1>MOST POPULAR</h1>\n          </div>\n          <div className=\"movie-row\">       \n            {this.state.movies.map(movie => (\n              <MoviesCard key={movie.id} {...movie} />\n            ))}\n          </div>\n          <div className=\"home-titles\">\n            <h1>COMEDIES</h1>\n          </div>\n          <div className=\"movie-row\">       \n            {comedies.map(movie => (\n              <MoviesCard key={movie.id} {...movie} />\n            ))}\n          </div>\n          <div className=\"home-titles\">\n            <h1>THRILLERS</h1>\n          </div>\n          <div className=\"movie-row\">       \n            {thrillers.map(movie => (\n              <MoviesCard key={movie.id} {...movie} />\n            ))}\n          </div>\n          <div className=\"home-titles\">\n            <h1>ANIMATION / FAMILY</h1>\n          </div>\n          <div className=\"movie-row\">       \n            {animation.map(movie => (\n              <MoviesCard key={movie.id} {...movie} />\n            ))}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Home\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { logout, isAuthenticated } from '../../lib/auth'\nimport { popupNotification } from '../../lib/notification'\n\n\nclass NavBarContent extends React.Component  {\n  handleLogOut() {\n    popupNotification('You have signed out!')\n    logout()\n  }\n\n\n  render() { \n    return (\n      <div className=\"navbar-end\">    \n        <Link to=\"/\" className=\"navbar-item\" >Home</Link>  \n        { isAuthenticated() && <Link to=\"/movies/new\" className=\"navbar-item\">Add A Movie</Link> }\n        { !isAuthenticated() && <Link to=\"/register\" className=\"navbar-item\">Sign Up</Link> }\n        { !isAuthenticated() && <Link to=\"/login\" className=\"navbar-item sign-in\">Sign In</Link> }\n        { isAuthenticated() && <Link to=\"/profile\" className=\"navbar-item\">Profile</Link> }\n        { isAuthenticated() && <Link to=\"/\" onClick={this.handleLogOut} className=\"navbar-item\">Sign Out</Link> }\n      </div> )\n  }\n}\n\nexport default NavBarContent","import React from 'react'\nimport NavBarContent from './NavbarContent'\n\nclass DesktopNav extends React.Component {\n  render(){ \n    return (\n    \n      <nav className=\"navbar is-transparent\">\n        <div className=\"container\">\n          <div className=\"navbar-start\">\n            <a className=\"navbar-item\" href=\"/\">\n              <img id=\"logo\" className=\"logo\" src=\"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg\" alt=\"formula1\" width=\"160\" height=\"50\" />\n            </a>\n          </div>  \n          <NavBarContent />\n        </div>\n      </nav>\n    )\n  }\n}\nexport default DesktopNav","import React from 'react'\nimport { slide as Menu } from 'react-burger-menu'\nimport NavBarContent from './NavbarContent'\n\n\nclass MobileNav extends React.Component {\n  state = {\n    menuOpen: false\n  }\n  closeMenu() {\n    this.setState({ menuOpen: false })\n  }\n  handleStateChange (state) {\n    this.setState({ menuOpen: state.isOpen })  \n  }\n  toggleMenu () {\n    this.setState(state => ({ menuOpen: !state.menuOpen }))\n  }\n\n  render() {\n\n    return ( \n      <div className=\"mobile-navbar\">\n        <a className=\"mobile-logo\" href=\"/\">\n          <img id=\"logo\" className=\"logo\" src=\"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg\" alt=\"formula1\" width=\"160\" height=\"50\" />\n        </a>\n        <Menu  width={ '100%' } isOpen={this.state.menuOpen}\n          onStateChange={(state) => this.handleStateChange(state)}>         \n          <div className=\"mobile-nav\" onClick={() => this.closeMenu()}>\n            <NavBarContent />\n          </div>\n        </Menu> \n      </div>\n    )\n  }\n}\n\nexport default MobileNav","import React from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport DesktopNav from './DesktopNav'\nimport MobileNav from './MobileNav'\n\nimport { useMediaQuery } from 'react-responsive'\n\n\nconst Navbar = () => { \n  const isTabletOrMobileDevice = useMediaQuery({\n    query: '(max-device-width: 1224px)'\n  })\n  return (isTabletOrMobileDevice ? <MobileNav /> : <DesktopNav /> )\n}\nexport default withRouter(Navbar)\n\n","import React from 'react'\nimport { registerUser } from '../../lib/api'\nimport { popupNotification } from '../../lib/notification'\n\nclass Register extends React.Component {\n  state = {\n    formData: {\n      username: '',\n      email: '',\n      firstName: '',\n      lastName: '',\n      profileImage: '',\n      password: '',\n      passwordConfirmation: ''\n    },\n    registerErrors: {}\n  }\n  // a function to take user input and update formdata\n  handleChange = event => {\n    console.log(event.target)\n    const formData = {\n      ...this.state.formData,\n      [event.target.name]: event.target.value\n    }\n\n    const registerErrors = {\n      ...this.state.registerErrors,\n      [event.target.name]: ''\n    }\n    // console.log(formData)\n    this.setState({ formData, registerErrors })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n\n    try {\n      const response = await registerUser(this.state.formData)\n      console.log(response)\n      this.props.history.push('login')\n      popupNotification('Welcome, now please log in!')\n    } catch ( err ) {\n      console.log(err.response)\n      this.setState({ registerErrors: err.response.data })\n      return\n    }     \n  }\n\n  render() {\n    const { username, email, profileImage, firstName, lastName, password, passwordConfirmation, registerErrors } = this.state\n    return (\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"columns sign-in-form\">\n            <form onSubmit={this.handleSubmit} className=\"column is-one-third is-offset-one-third box\">\n              <div className=\"field\">\n                <h2 className=\"reg-label\">Sign Up</h2>\n                <div className=\"control\">\n                  <input\n                    className={`input ${registerErrors.username ? 'is-danger' : ''}`}\n                    placeholder=\"Username\"\n                    name=\"username\"\n                    value={username}\n                    onChange={this.handleChange}\n                    error={registerErrors.username}\n                  />\n                </div>\n                { registerErrors.username && <p className=\"help is-danger\">{registerErrors.username}</p> }\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    className={`input ${registerErrors.email ? 'is-danger' : ''}`}\n                    placeholder=\"Email\"\n                    name=\"email\" \n                    value={email}\n                    onChange={this.handleChange}\n                    error={registerErrors.email}\n                  />\n                </div>\n                { registerErrors.email && <p className=\"help is-danger\">{registerErrors.email}</p> }\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    className={`input ${registerErrors.first_name ? 'is-danger' : ''}`}\n                    placeholder=\"First Name\"\n                    name=\"first_name\" \n                    value={firstName}\n                    onChange={this.handleChange}\n                    error={registerErrors.first_name}\n                  />\n                </div>\n                { registerErrors.first_name && <p className=\"help is-danger\">{registerErrors.first_name}</p> }\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    className={`input ${registerErrors.last_name ? 'is-danger' : ''}`}\n                    placeholder=\"Last Name\"\n                    name=\"last_name\"\n                    value={lastName}\n                    onChange={this.handleChange}\n                    error={registerErrors.last_name}\n                  />\n                </div>\n                { registerErrors.last_name && <p className=\"help is-danger\">{registerErrors.last_name}</p> }\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    className={`input ${registerErrors.profile_image ? 'is-danger' : ''}`}\n                    placeholder=\"Profile Image URL\"\n                    name=\"profile_image\" \n                    value={profileImage}\n                    onChange={this.handleChange}\n                    error={registerErrors.profile_image}\n                  />\n                </div>\n                { registerErrors.profile_image && <p className=\"help is-danger\">{registerErrors.profile_image}</p> }\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    type=\"password\"\n                    className={`input ${registerErrors.password ? 'is-danger' : ''}`}\n                    placeholder=\"Password\"\n                    name=\"password\" \n                    value={password}\n                    onChange={this.handleChange}\n                    error={registerErrors.password}\n                  />\n                </div>\n                { registerErrors.password && <p className=\"help is-danger\">{registerErrors.password}</p> }\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    type=\"password\"\n                    className={`input ${registerErrors.password_confirmation ? 'is-danger' : ''}`}\n                    placeholder=\"Password Confirmation\"\n                    name=\"password_confirmation\"\n                    value={passwordConfirmation}\n                    onChange={this.handleChange}\n                    error={registerErrors.password_confirmation}\n                  />\n                </div>\n                { registerErrors.password_confirmation && <p className=\"help is-danger\">{registerErrors.password_confirmation}</p> }\n              </div>\n              <div className=\"field\">\n                <button type=\"submit\" className=\"button is-fullwidth\">Sign Up!</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\nexport default Register","import React from 'react'\nimport { loginUser } from '../../lib/api'\nimport { setToken } from '../../lib/auth'\nimport { popupNotification } from '../../lib/notification'\n\nclass Login extends React.Component {\n  state = {\n    formData: {\n      email: '',\n      password: ''\n    },\n    loginErrors: {}\n  }\n\n  handleChange = event => {\n    console.log(event.target)\n    const formData = {\n      ...this.state.formData,\n      [event.target.name]: event.target.value\n    }\n    const loginErrors = {\n      ...this.state.registerErrors,\n      [event.target.name]: ''\n    }\n    console.log(formData)\n    this.setState({ \n      formData, loginErrors })\n    this.setState({\n      formErrors: {}\n    })\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault()\n    try {\n      const response = await loginUser(this.state.formData)\n      popupNotification(`${response.data.message}`)\n      console.log(response)\n      setToken(response.data.token)\n      this.props.history.push('/')\n    } catch ( err ) {\n      console.log(err.response)\n      this.setState({ loginErrors: err.response.data })\n      return\n      // popupNotification('Invalid email or password')\n    }\n  } \n\n  render() {\n    const { email, password, loginErrors } = this.state\n\n    return (\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"columns  sign-in-form\">\n            <form onSubmit={this.handleSubmit} className=\"column is-one-third is-offset-one-third box\">\n              <div className=\"field\">\n                <h2 className=\"reg-label\">Sign In</h2>\n                <div className=\"control\">\n                  <input\n                    className={`input ${loginErrors.detail ? 'is-danger' : ''}`}\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={email}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    type=\"password\"\n                    className={`input ${loginErrors.detail ? 'is-danger' : ''}`}\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                { loginErrors.detail && <p className=\"help is-danger\">{loginErrors.detail}</p> }\n              </div>\n              <div className=\"field\">\n                <button type=\"submit\" className=\"button is-fullwidth\">Sign In</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\nimport { getUserProfile } from '../../lib/api'\nimport MoviesCard from '../movies/MoviesCard'\n\nclass Profile extends React.Component {\n  state = {\n    liked_movies: [],\n    created_movies: []\n  }\n  async componentDidMount() {     \n    const profile = await getUserProfile()\n    // console.log(profile.data)\n    this.setState({\n      liked_movies: profile.data.liked_movies,\n      created_movies: profile.data.created_movies\n    })\n    // console.log('watchlist array >>>>', profile.data.liked_movies)\n\n  }\n  render() {\n    const watchlist = this.state.liked_movies\n    const createdMovies = this.state.created_movies\n    console.log(createdMovies)\n    return (\n      <div className=\"profile-container\">\n        <div className=\"watchlist\">\n          <h1>WATCHLIST</h1>\n          <div className=\"movie-row\">{watchlist.map(movie => (\n            <MoviesCard key={movie.id} {...movie} />\n          ))}\n          </div>\n        </div>\n        <div className=\"profile-comments\">\n          <h1>CREATED MOVIES</h1>\n          <div className=\"movie-row\">{createdMovies.map(movie => (\n            <MoviesCard key={movie.id} {...movie} />\n          ))}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Profile\n","import React from 'react'\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"content has-text-centered\">\n        <p className=\"has-text-white\">\n          Made with\n          <span role=\"img\" aria-label=\"heart emoji\">  </span> \n          at GA LDN 2020\n        </p>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer","import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport Notifications from 'react-notify-toast'\n\nimport MovieDetails from './components/movies/MovieDetails'\nimport MovieNew from './components/movies/MovieNew'\nimport MovieEdit from './components/movies/MovieEdit'\n\nimport Home from './components/common/Home'\nimport Navbar from './components/common/Navbar'\nimport Register from './components/auth/Register'\nimport Login from './components/auth/Login'\nimport Profile from './components/auth/Profile' \nimport Footer from './components/common/Footer'\n\n\nconst App = ()  => {\n  return (\n    <BrowserRouter>\n      <Notifications />\n      <Navbar />\n      <Switch>\n        <Route path=\"/movies/:id/edit\" component={MovieEdit} />\n        <Route path=\"/movies/new\" component={MovieNew} />          \n        <Route path=\"/movies/:id\" component={MovieDetails} />\n        <Route exact path=\"/\" component={Home} />    \n        <Route path=\"/register\" component={Register} />     \n        <Route path=\"/login\" component={Login} />    \n        <Route path=\"/profile\" component={Profile} />    \n      </Switch>\n      <Footer />\n    </BrowserRouter>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'bulma'\nimport './styles/main.scss'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}